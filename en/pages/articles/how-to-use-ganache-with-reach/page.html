<p>Ganache is a very popular Ethereum personal blockchain for quick application development, deployment, and testing with a replica of the Ethereum mainnet. Ganache provides many customization options, such as control over the gas limit and price.</p>
<p>There are two ways to use Ganache with Reach.</p>
<p>First, you can run the Ganache desktop application and start a workspace, then connect to it using the Reach ETH-live connector mode. This requires specifying the node URI as well. For example, if you’re running your Reach frontend from within Docker, and Ganache on your host machine, you might run:</p>
<pre class="snippet unnumbered"><ol class="snippet"><li value="1">$ REACH_CONNECTOR_MODE=ETH-live ETH_NODE_URI=http://host.docker.internal:7545 REACH_ISOLATED_NETWORK=1 reach run</li></ol></pre>
<p>
  This sets the Ethereum URI to the host machine’s port and instructs Reach that the network is "isolated", which means it is for testing.
  Second, you can programmatically create a Ganache network from inside of your JavaScript frontend and set it is as a provider for the Reach standard library. This requires some modification to your frontend.
</p>
<p>You need to add the ganache-core package as a dependency in your package.json file. If you don’t already have one, then you’ll want to use reach scaffold to set one up. You’ll also need to add the ethers package, because you’ll be directly interacting with the underlying network to set things up.</p>
<p>After that, you need to import the two packages on the JavaScript side in your <a href="https://github.com/reach-sh/reach-lang/blob/master/examples/ganache/index.mjs">index.mjs</a> file:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="3">import ethers from 'ethers';</li><li value="4">import ganache from 'ganache-core';</li></ol></pre>
<p>Next, you need to actually create the Ganache-based provider and connect it to Reach:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="10">  const ganacheOptions = {};</li><li value="11">  const ganacheProvider =</li><li value="12">    new ethers.providers.Web3Provider(</li><li value="13">      ganache.provider(ganacheOptions));</li></ol></pre>
<p>This will work, but Reach will not consider the network to be "isolated", which means that it won’t be able to fund test accounts. You can enable this by setting the Reach faucet:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="16">  const faucet = ganacheProvider.getSigner();</li><li value="17">  stdlib.setFaucet(stdlib.connectAccount(faucet));</li><li value="18"></li><li value="19">  const startingBalance = stdlib.parseCurrency(100);</li><li value="20">  const accAlice = await stdlib.newTestAccount(startingBalance)</li><li value="21"></li><li value="22">  const ctcAlice = accAlice.deploy(backend);</li><li value="23">  await Promise.all([</li><li value="24">    backend.Alice(ctcAlice, {</li><li value="25">      ...stdlib.hasRandom,</li><li value="26">    }),</li><li value="27">  ]);</li><li value="28">})();</li></ol></pre>
<p>If you want to use some of the interesting customizations that Ganache provides, then refer to <a href="https://github.com/trufflesuite/ganache/tree/master#options">their documentation</a> about what ganacheOptions may be set to.</p>